{% extends "base.html" %}
{% block page_content %}
<style>
    .search-form .form-control:focus {
        border-color: #198754;
        box-shadow: 0 0 0 0.2rem rgba(25, 135, 84, 0.25);
    }
</style>

<div class="container">
    <div class="border-bottom border-success">
        <div class="container">
            <h2>Внесите изменения в данные об ИА с среийным номером №{{ slot_machine_data.slot_number }}:</h2>
            <form action="{% url 'slot_machine_data_change' slot_machine_data.pk %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <dl class="row">
                {% for field in form %}
                    <dt class="col-sm-4">{{ field.label_tag }}</dt>
                    <dd class="col-sm-8">{{ field }}</dd>
                        {% if field.errors %}
                            <div class="text-danger">
                                {{ field.errors }}
                            </div>
                        {% endif %}
                {% endfor %}
                </dl>
                <button type="submit" class="btn btn-success">Сохранить изменения</button>
                <a href="{% url 'slot_machine_data' %}" class="btn btn-success">Вернуться в журнал актов ИА</a>
            </form>
            {% if success_message %}
                <div class="text-success">
                    {{ success_message }}
                </div>
            {% endif %}
            <br>
        </div>
    </div>
<br>
    <div class="row d-flex justify-content-center py-3 mb-4 border-bottom border-success">
        <div>
            <a href="{% url 'docx_create' %}" class="btn btn-success">Сформировать акт ТО в формате .docx</a>
        </div>
    </div>
<br>
    <h3>
        <b>Журнал актов технического освидетельствования (ТО)</b>
    </h3>
    <table class="table table-hover table-striped table-bordered border-2 border-success text-center">
      <thead class="table table-success table-bordered border-success align-middle">
        <tr>
            <th scope="col">№ Акта</th>
            <th scope="col">Заявка</th>
            <th scope="col" style="width: 100px;">Номера средств контроля</th>
            <th scope="col">Наименование заявителя</th>
            <th scope="col">Результат</th>
            <th scope="col">Модель</th>
            <th scope="col">Версия</th>
            <th scope="col">Серийный номер ИА</th>
            <th scope="col">Номер по реестру</th>
            <th scope="col">Номер платы</th>
        </tr>
      </thead>
      <tbody>
        <tr>
            <td>{{ slot_machine_data.act_number }}</td>
            <td>{{ slot_machine_data.distribution.application }}</td>
            <td>{{ slot_machine_data.control_sticks_number }}</td>
            <td>{{ slot_machine_data.distribution.application.declarant }}</td>
            <td>{{ slot_machine_data.conformity }}</td>
            <td>{{ slot_machine_data.model_registry.model }}</td>
            <td>{{ slot_machine_data.model_registry.version }}</td>
            <td>{{ slot_machine_data.slot_number }}</td>
            <td>{{ slot_machine_data.model_registry }}</td>
            <td>{{ slot_machine_data.board_number }}</td>
        </tr>
      </tbody>
    </table>
</div>

{% endblock %}